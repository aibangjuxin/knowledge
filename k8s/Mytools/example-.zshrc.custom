# ä¸ªäººè‡ªå®šä¹‰ .zshrc é…ç½®
# å°†æ­¤æ–‡ä»¶å¤åˆ¶åˆ°å®¿ä¸»æœºæŒ‚è½½ç›®å½• /opt/share/.zshrc.custom
# å®¹å™¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨è¿½åŠ åˆ° ~/.zshrc

# ============================================================================
# ä¸ªäººæç¤ºç¬¦é…ç½®
# ============================================================================

# è‡ªå®šä¹‰æç¤ºç¬¦é¢œè‰²ï¼ˆå¦‚æœä¸å–œæ¬¢ agnoster ä¸»é¢˜ï¼‰
# PROMPT='%F{cyan}â”Œâ”€â”€(%f%F{red}%n%f%F{yellow}@%f%F{blue}%m%f%F{cyan})-[%f%F{white}%~%f%F{cyan}]%f
# %F{cyan}â””â”€%f%F{green}$%f '

# ============================================================================
# ä¸ªäººæ’ä»¶é…ç½®
# ============================================================================

# å¦‚æœéœ€è¦é¢å¤–çš„æ’ä»¶ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ·»åŠ 
# plugins+=(your-custom-plugin)

# ============================================================================
# ä¸ªäººç¯å¢ƒå˜é‡
# ============================================================================

# ä¸ªäººå·¥å…·è·¯å¾„
export PATH="$PATH:/opt/share/tools/bin"
export PATH="$PATH:/opt/share/scripts"

# ä¸ªäºº Python è·¯å¾„
export PYTHONPATH="$PYTHONPATH:/opt/share/python-libs"

# ä¸ªäººä¸´æ—¶ç›®å½•
export TMPDIR="/opt/share/tmp"

# ============================================================================
# ä¸ªäººåˆ«åæ‰©å±•
# ============================================================================

# ä¸ªäººå¿«æ·å‘½ä»¤
alias mytools='cd /opt/share/tools && ls -la'
alias myscripts='cd /opt/share/scripts && ls -la'
alias myprojects='cd /opt/share/projects && ls -la'

# ä¸ªäººæ—¥å¿—æŸ¥çœ‹
alias taillog='tail -f /opt/share/logs/app.log'
alias viewlog='less /opt/share/logs/app.log'

# ä¸ªäººç½‘ç»œæµ‹è¯•
alias testnet='ping -c 4 8.8.8.8'
alias testdns='nslookup google.com'

# ============================================================================
# ä¸ªäººå‡½æ•°æ‰©å±•
# ============================================================================

# ä¸ªäººç¬”è®°å‡½æ•°
note() {
    local note_file="/opt/share/notes/$(date +%Y%m%d).md"
    local timestamp=$(date '+%H:%M:%S')
    
    if [ $# -eq 0 ]; then
        echo "ç”¨æ³•: note <å†…å®¹>"
        echo "æŸ¥çœ‹ä»Šæ—¥ç¬”è®°: cat $note_file"
        return 1
    fi
    
    # ç¡®ä¿ç¬”è®°ç›®å½•å­˜åœ¨
    mkdir -p "/opt/share/notes"
    
    # å¦‚æœæ˜¯æ–°æ–‡ä»¶ï¼Œæ·»åŠ æ ‡é¢˜
    if [ ! -f "$note_file" ]; then
        echo "# $(date '+%Yå¹´%mæœˆ%dæ—¥') å·¥ä½œç¬”è®°" > "$note_file"
        echo "" >> "$note_file"
    fi
    
    # æ·»åŠ æ—¶é—´æˆ³å’Œå†…å®¹
    echo "## $timestamp" >> "$note_file"
    echo "$*" >> "$note_file"
    echo "" >> "$note_file"
    
    echo "âœ… ç¬”è®°å·²ä¿å­˜åˆ°: $note_file"
}

# ä¸ªäººä»»åŠ¡ç®¡ç†å‡½æ•°
todo() {
    local todo_file="/opt/share/todo.txt"
    
    case "$1" in
        "add"|"a")
            shift
            echo "- [ ] $*" >> "$todo_file"
            echo "âœ… ä»»åŠ¡å·²æ·»åŠ : $*"
            ;;
        "list"|"l"|"")
            if [ -f "$todo_file" ]; then
                echo "ğŸ“‹ å¾…åŠäº‹é¡¹:"
                cat -n "$todo_file"
            else
                echo "ğŸ“‹ æš‚æ— å¾…åŠäº‹é¡¹"
            fi
            ;;
        "done"|"d")
            if [ -f "$todo_file" ]; then
                echo "ğŸ“‹ é€‰æ‹©è¦å®Œæˆçš„ä»»åŠ¡:"
                cat -n "$todo_file"
                echo -n "è¾“å…¥ä»»åŠ¡ç¼–å·: "
                read task_num
                if [[ "$task_num" =~ ^[0-9]+$ ]]; then
                    sed -i "${task_num}s/- \[ \]/- [x]/" "$todo_file"
                    echo "âœ… ä»»åŠ¡ $task_num å·²æ ‡è®°ä¸ºå®Œæˆ"
                fi
            fi
            ;;
        "clear"|"c")
            > "$todo_file"
            echo "ğŸ—‘ï¸  å¾…åŠäº‹é¡¹å·²æ¸…ç©º"
            ;;
        *)
            echo "ç”¨æ³•: todo [add|list|done|clear] [å†…å®¹]"
            echo "  add/a <å†…å®¹>  - æ·»åŠ ä»»åŠ¡"
            echo "  list/l        - æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨"
            echo "  done/d        - æ ‡è®°ä»»åŠ¡å®Œæˆ"
            echo "  clear/c       - æ¸…ç©ºä»»åŠ¡åˆ—è¡¨"
            ;;
    esac
}

# ============================================================================
# ä¸ªäººå¯åŠ¨è„šæœ¬
# ============================================================================

# åˆ›å»ºä¸ªäººç›®å½•ç»“æ„
mkdir -p /opt/share/{tools,scripts,projects,notes,logs,tmp,backups}

# æ˜¾ç¤ºä¸ªäººæ¬¢è¿ä¿¡æ¯
echo ""
echo "ğŸ¯ ä¸ªäººé…ç½®å·²åŠ è½½"
echo "ğŸ’¡ ä¸ªäººå‘½ä»¤:"
echo "  note <å†…å®¹>      - æ·»åŠ ç¬”è®°"
echo "  todo add <ä»»åŠ¡>  - æ·»åŠ å¾…åŠ"
echo "  todo list        - æŸ¥çœ‹å¾…åŠ"
echo "  mytools          - æŸ¥çœ‹ä¸ªäººå·¥å…·"
echo "  myprojects       - æŸ¥çœ‹ä¸ªäººé¡¹ç›®"