
- [summary](#summary)
- [Result](#result)
  - [chatgtp](#chatgtp)
  - [**升级计划与测试方案**](#升级计划与测试方案)
    - [**1. 升级计划概述**](#1-升级计划概述)
    - [**2. Nginx 1.26.0 的主要变更**](#2-nginx-1260-的主要变更)
    - [**3. 测试方案**](#3-测试方案)
      - [**3.1 测试环境准备**](#31-测试环境准备)
      - [**3.2 功能验证**](#32-功能验证)
      - [**3.3 性能验证**](#33-性能验证)
      - [**3.4 回归测试**](#34-回归测试)
      - [**3.5 回滚测试**](#35-回滚测试)
    - [**4. 验证点与报告**](#4-验证点与报告)
    - [**5. 部署生产环境**](#5-部署生产环境)
  - [Gemini2](#gemini2)
- [About version](#about-version)
# summary 

we need upgrade nginx from 1.20.1 to 1.26.0


# Result 

## chatgtp
以下是关于将 Nginx 从 **1.20.1** 升级到 **1.26.0** 的完整计划，包括测试策略、验证点以及新版本功能的比较。

---

## **升级计划与测试方案**

### **1. 升级计划概述**
1. **收集信息**：
   - 了解 1.26.0 的变更日志和升级指南。
   - 确保没有弃用功能影响现有配置。

2. **升级流程**：
   - 在测试环境中升级并验证。
   - 根据验证结果更新生产环境。

3. **验证**：
   - 验证 4 层和 7 层的主要功能。
   - 测试业务逻辑完整性和性能。

4. **回滚计划**：
   - 准备回滚脚本和配置。
   - 确保能在紧急情况下快速还原到 Nginx 1.20.1。

---

### **2. Nginx 1.26.0 的主要变更**
通过比较 **1.20.1** 和 **1.26.0** 的[变更日志](https://nginx.org/en/CHANGES)，以下是关键的功能改进与变更点：

| 功能/变更            | 描述                                                                       | 影响分析                                     |
| -------------------- | -------------------------------------------------------------------------- | -------------------------------------------- |
| **动态模块支持增强** | 新增一些模块的动态加载支持，减少核心代码变更。                             | 有助于模块化管理，降低依赖冲突风险。         |
| **HTTP/3 支持**      | 1.26.0 支持 HTTP/3（QUIC 协议）。                                          | 提升性能与现代浏览器兼容性。需验证相关配置。 |
| **更好的 TLS 性能**  | 增强了 TLS 1.3 的性能和功能支持，特别是动态 OCSP 配置和 Key Update。       | 对基于 HTTPS 的服务有性能改进。              |
| **内存优化**         | 针对连接池与缓存优化，减少了长连接和大并发情况下的内存使用。               | 可能带来吞吐量提升。                         |
| **变量和语法增强**   | 引入了更多动态变量，允许更灵活的配置管理（例如 `$ssl_preread_protocol`）。 | 配置变更的灵活性更高。                       |
| **弃用部分功能**     | 某些老旧功能已被移除或标记为过时（具体需要参考官方变更日志）。             | 可能影响现有配置，需测试向下兼容性。         |

---

### **3. 测试方案**

#### **3.1 测试环境准备**
1. **环境隔离**：
   - 准备一套测试环境，与生产环境配置一致（包括 4 层和 7 层负载均衡的 Nginx 设置）。
   
2. **版本对比**：
   - 部署两套 Nginx（1.20.1 和 1.26.0）。
   - 使用相同的配置文件进行测试，记录结果对比。

3. **日志与监控**：
   - 启用详细日志级别，收集错误、告警及性能指标。
   - 配置系统监控工具（如 Prometheus + Grafana）对关键指标进行监控。

---

#### **3.2 功能验证**
**功能测试覆盖以下部分**：

| 测试点               | 验证内容                                                        | 示例测试用例                                                                                     |
| -------------------- | --------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| **基本功能**         | 测试 Nginx 基础功能是否正常工作。                               | 访问简单的 HTTP 页面，验证 HTTP 响应状态码、内容一致性。                                         |
| **反向代理（7 层）** | 测试 Nginx 作为 HTTP/HTTPS 反向代理的功能。                     | - 使用 Curl 或 Apache Bench 模拟请求，验证请求是否正确转发到后端服务。 <br> - 测试缓存是否生效。 |
| **负载均衡（4 层）** | 测试 TCP/UDP 层负载均衡的功能。                                 | - 验证 TCP 服务转发（如 MySQL 的负载均衡）。<br> - 验证 UDP 服务（如 DNS）的转发能力。           |
| **HTTPS/TLS**        | 验证 TLS 配置是否正常，包括证书加载、SNI 功能、TLS 1.3 性能等。 | - 使用 `openssl s_client` 检查 TLS 握手是否正常。<br> - 模拟 HTTPS 测试。                        |
| **HTTP/3 支持**      | 验证新版本的 HTTP/3 支持功能。                                  | 使用支持 HTTP/3 的工具（如 Chrome 或 `nghttp3`）测试网站访问。                                   |
| **日志功能**         | 检查日志输出是否正确，确保新版本日志格式无异常。                | 验证访问日志、错误日志是否正常记录。                                                             |
| **模块兼容性**       | 验证动态模块是否加载正常（如 Lua、GeoIP）。                     | 检查动态模块是否能正常加载，并验证模块功能。                                                     |

---

#### **3.3 性能验证**
**目标**：确保升级后 Nginx 性能不下降，甚至有所提升。

1. **测试工具**：
   - 使用 **Apache Bench** 或 **wrk** 测试 HTTP 性能。
   - 使用 **iperf** 测试 TCP/UDP 性能。

2. **测试内容**：
   - 测试并发请求数（QPS）。
   - 测试响应时间。
   - 验证长连接和高并发下的内存消耗。

3. **对比分析**：
   - 比较 1.20.1 和 1.26.0 的性能差异，记录吞吐量和响应延迟。

---

#### **3.4 回归测试**
1. **业务功能验证**：
   - 测试所有生产业务逻辑（例如，特定路径的转发规则）。
   - 模拟真实场景的用户访问。

2. **回归用例**：
   - 涉及规则匹配、重定向、缓存、限流等场景的测试用例。

---

#### **3.5 回滚测试**
**目标**：确保在升级失败或验证出问题时能快速回滚。
1. **备份现有环境**：
   - 备份 Nginx 配置文件和相关依赖模块。
2. **验证回滚脚本**：
   - 在测试环境验证回滚是否有效。

---

### **4. 验证点与报告**
1. **主要验证指标**：
   - HTTP/TCP 的请求成功率。
   - 性能指标（吞吐量、延迟、资源消耗）。
   - 功能测试用例通过率。
   - 错误日志或告警数量。

2. **生成报告**：
   - 比较 1.20.1 和 1.26.0 的功能和性能。
   - 记录问题及解决方案。

---

### **5. 部署生产环境**
1. **逐步升级**：
   - 先升级一部分节点（如测试流量的节点）。
   - 确保运行稳定后再全量升级。

2. **监控与调整**：
   - 在生产环境中持续监控 Nginx 的性能和错误。
   - 定期收集反馈并调整配置。

---

通过上述方案，你可以高效升级 Nginx 并确保业务逻辑的完整性和系统稳定性。






## Gemini2
好的，针对你将 Nginx 从 1.20.1 升级到 1.26.0 的需求，我为你制定一个详细的升级计划，重点关注升级后的验证和新功能比较。

**升级计划总览**

这个计划分为以下几个主要阶段：

1. **准备阶段：** 详细了解新版本特性、评估风险、搭建测试环境。
2. **测试阶段：** 在测试环境中进行功能和性能验证。
3. **灰度发布阶段（可选但强烈建议）：** 小范围上线新版本，监控运行情况。
4. **正式发布阶段：** 全面切换到新版本。
5. **监控和回滚计划：** 升级后持续监控，制定回滚方案。

**第一阶段：准备阶段**

* **1. 详细了解 Nginx 1.26.0 的新特性和变更：**
    * 查阅官方 ChangeLog：仔细阅读 Nginx 官方发布的 1.26.0 版本更新日志，了解所有的新功能、修复的 Bug、以及潜在的 Breaking Changes。特别关注与你的现有配置和模块相关的变更。
    * 对比 1.20.1 到 1.26.0 的所有版本更新：如果时间允许，可以查看这期间所有版本的更新日志，更全面的了解变化。
    * 重点关注以下几个方面：
        * **新指令和模块：** 是否有新的指令或模块可以提升性能、安全或管理效率。
        * **性能优化：** 新版本是否有针对性能的改进。
        * **安全修复：** 新版本修复了哪些安全漏洞，评估其对你的环境的影响。
        * **行为变更：** 是否有现有指令或模块的行为发生了改变，这可能导致配置不兼容。
        * **废弃功能：** 是否有功能被废弃，需要提前做好迁移准备。

* **2. 评估升级风险和影响：**
    * **兼容性评估：** 评估现有 Nginx 配置（包括 `nginx.conf` 和所有 `include` 的文件）在新版本上的兼容性。重点关注语法变化和模块兼容性。
    * **模块兼容性：** 如果使用了第三方模块，确认这些模块是否支持 Nginx 1.26.0。提前联系模块开发者或查找相关信息。
    * **依赖关系：** 检查 Nginx 依赖的库文件版本是否需要更新，以及更新后是否会影响其他系统组件。
    * **性能影响评估：** 虽然新版本通常会带来性能提升，但也存在个别场景下性能下降的可能。需要在测试环境中进行详细的性能测试。

* **3. 搭建与生产环境尽可能一致的测试环境：**
    * **配置一致性：** 确保测试环境的 Nginx 配置、操作系统版本、内核参数等与生产环境高度一致。
    * **数据模拟：** 如果业务逻辑涉及到动态内容或数据库交互，需要在测试环境中模拟生产数据，以便进行更真实的测试。
    * **流量模拟：** 使用流量回放工具或压力测试工具模拟生产环境的流量模式，以便进行性能和稳定性测试。

* **4. 制定详细的回滚计划：**
    * **备份当前版本：** 在升级前，完整备份当前运行的 Nginx 可执行文件、配置文件、以及相关的系统配置。
    * **回滚步骤：** 明确回滚到旧版本的详细步骤，包括停止新版本 Nginx、恢复备份文件、启动旧版本 Nginx 等。
    * **回滚验证：** 在测试环境中模拟回滚过程，确保回滚方案的有效性。

**第二阶段：测试阶段**

在测试环境中安装 Nginx 1.26.0 后，进行全面的功能和性能测试。

**功能测试点（需要覆盖 4 层和 7 层）：**

* **基本功能测试：**
    * **启动和停止：** 验证 Nginx 能否正常启动和停止，并检查启动日志是否有异常。
    * **配置加载：** 验证 Nginx 能否正确加载配置文件，并检查配置是否有语法错误。
    * **端口监听：** 验证 Nginx 能否正确监听配置的端口。

* **4 层（TCP/UDP）功能测试：**
    * **反向代理：** 验证 TCP/UDP 反向代理功能是否正常工作，包括连接转发、健康检查等。可以使用 `nc`、`telnet` 等工具进行测试。
    * **负载均衡：** 验证 TCP/UDP 负载均衡策略是否按预期工作，例如轮询、IP Hash 等。可以多次请求，观察请求是否被分发到不同的后端服务器。
    * **SSL/TLS Passthrough (Stream 模块)：** 如果使用了 Stream 模块进行 SSL/TLS Passthrough，需要验证其功能是否正常。

* **7 层（HTTP/HTTPS）功能测试：**
    * **静态资源访问：** 验证 Nginx 能否正常提供静态资源服务。
    * **动态应用反向代理：** 验证 Nginx 能否正确地将请求转发到后端的动态应用服务器，例如应用服务器、API 服务等。
    * **HTTPS 支持：** 验证 HTTPS 协议是否正常工作，包括证书加载、SSL/TLS 握手、加密传输等。使用浏览器访问或使用 `curl -v` 查看详细信息。
    * **虚拟主机（Server Blocks）：** 验证不同的虚拟主机配置是否生效，根据 Host 头路由到不同的应用。
    * **Rewrite 和 Redirect 规则：** 验证配置的 Rewrite 和 Redirect 规则是否按预期工作。
    * **Location 匹配：** 验证不同的 Location 匹配规则是否生效。
    * **缓存功能：** 如果使用了 Nginx 的缓存功能，需要验证缓存是否生效，以及缓存失效策略是否正确。
    * **Gzip 压缩：** 验证 Gzip 压缩功能是否正常工作。
    * **Headers 配置：** 验证配置的自定义 Headers 是否被正确添加到响应中。
    * **限流和访问控制：** 如果配置了限流 (limit_req, limit_conn) 或访问控制 (allow, deny)，需要验证其功能是否生效。
    * **WebSockets：** 如果有使用 WebSockets，需要验证 WebSockets 连接是否正常建立和数据传输。
    * **HTTP/2 或 HTTP/3：** 如果启用了 HTTP/2 或 HTTP/3，需要验证其功能是否正常。
    * **健康检查（upstream 模块）：** 验证 upstream 模块的健康检查机制是否正常工作，不健康的后端服务器是否被剔除。
    * **错误页面处理：** 验证自定义错误页面是否正常显示。

* **新功能测试：**
    * 针对 Nginx 1.26.0 引入的新功能，编写专门的测试用例进行验证，确保新功能符合预期。

**性能测试点：**

* **基准性能测试：** 在升级前后的测试环境中，使用相同的负载进行性能测试，对比 TPS、响应时间、CPU 和内存占用等指标，评估新版本对性能的影响。可以使用 `ab`、`wrk`、`JMeter` 等工具。
* **压力测试：** 模拟高并发场景，测试新版本 Nginx 的稳定性和性能上限。
* **长时间运行测试：** 让新版本的 Nginx 在测试环境中运行一段时间，观察是否有内存泄漏或其他异常情况。

**第三阶段：灰度发布阶段（可选但强烈建议）**

* **选择少量非核心业务或低流量实例：** 将新版本的 Nginx 部署到少量生产环境实例上。
* **实时监控：** 密切监控这些实例的运行状态，包括错误日志、性能指标等。
* **观察一段时间：** 让新版本在小范围内运行一段时间，如果没有发现问题，再逐步扩大发布范围。

**第四阶段：正式发布阶段**

* **选择合适的维护窗口：** 选择业务低峰期进行升级。
* **分批升级：** 避免一次性升级所有实例，可以按照机房、服务类型等进行分批升级。
* **升级前再次备份：** 在正式升级前，再次备份当前生产环境的 Nginx 配置和可执行文件。
* **执行升级步骤：** 按照预定的步骤进行 Nginx 的替换和重启。
* **快速验证：** 升级完成后，进行基本的快速验证，例如访问网站首页、API 接口等，确认服务基本可用。

**第五阶段：监控和回滚计划**

* **持续监控：** 升级完成后，进行持续的监控，关注以下指标：
    * **错误日志：** 检查 Nginx 错误日志是否有异常信息。
    * **访问日志：** 检查访问日志是否有异常请求或错误状态码。
    * **性能指标：** 监控 CPU 使用率、内存使用率、连接数、请求延迟等指标。
    * **应用监控：** 监控后端应用的运行状态，确保 Nginx 的升级没有影响到后端服务。
    * **用户反馈：** 关注用户反馈，及时发现潜在问题。
* **设置告警：** 针对关键指标设置告警，一旦出现异常及时通知相关人员。
* **回滚准备：** 如果在监控过程中发现严重问题，需要立即执行回滚计划，恢复到旧版本的 Nginx。
* **问题排查和修复：** 针对升级过程中发现的问题进行排查和修复，并记录解决方案，为后续升级提供参考。
# About version
**Nginx 1.26.0 相对于 1.20.1 的主要新功能比较**

由于 Nginx 的版本号策略，主版本号的增加通常意味着较大的改动。从 1.20.1 到 1.26.0 跨越了多个小版本，累积了不少新功能和改进。你需要查阅官方的 Changelog 来获取最准确和详细的信息。以下列举一些可能包含的亮点（请务必以官方文档为准）：

* **安全增强：**
    * 可能包含针对新发现的安全漏洞的修复。
    * 可能会有新的安全相关的指令或模块，例如更精细的访问控制、更强的 SSL/TLS 配置选项等。

* **性能优化：**
    * 可能包含针对核心功能的性能优化，例如事件处理、连接管理、内存管理等。
    * 可能会有新的配置选项来调整性能参数。

* **新模块和指令：**
    * 可能引入新的核心模块或第三方模块，提供新的功能，例如更强大的负载均衡算法、更灵活的路由策略、新的缓存机制等。
    * 可能会有新的指令来简化配置或提供更精细的控制。

* **HTTP/3 支持的改进：** 如果 Nginx 1.20.1 的 HTTP/3 支持还比较早期，1.26.0 可能会有更完善的实现和更多的配置选项。

* **Stream 模块的增强：** 如果你使用了 Stream 模块进行 4 层代理，新版本可能会有功能增强或性能改进。

* **配置语法的改进：** 某些配置指令的语法可能有所调整，使其更易于理解和使用。

* **Bug 修复：** 修复了从 1.20.1 发布以来发现的各种 Bug。

**如何比较新功能？**

1. **阅读官方 Changelog：** 这是最权威的来源，详细列出了每个版本的更新内容。
2. **对比配置指令：** 查看官方文档，比较 1.20.1 和 1.26.0 的配置指令列表，找出新增、修改或废弃的指令。
3. **查看模块列表：** 比较两个版本的模块列表，了解新增的模块。
4. **参考社区文章和博客：** 搜索关于 Nginx 1.26.0 新特性的文章和博客，了解其他用户的经验和总结。

**总结**

升级 Nginx 是一个需要谨慎对待的过程，充分的准备和测试至关重要。这个详细的计划涵盖了升级的各个阶段，并提供了全面的测试点，希望能帮助你顺利完成升级并确保业务的稳定运行。记住，官方文档永远是最可靠的信息来源，务必仔细查阅。


好的，根据你提供的 Nginx 官方变更日志页面 [https://nginx.org/en/CHANGES-1.26](https://nginx.org/en/CHANGES-1.26)，我将总结从 1.20.x 版本到 1.26.0 版本之间新增的主要功能，并以 Markdown 表格的形式进行对比输出。

请注意，这个总结会侧重于功能性的新增和比较明显的改进。一些小的 bug 修复或内部优化可能不会列出。由于 1.26.0 是当前最新的稳定版本，我们需要回顾从 1.21.0 开始（因为 1.20.x 是你的当前版本线）到 1.26.0 的所有主要版本更新。


| 功能特性                                  | 首次引入版本 | 描述                                                                                                  | 关联模块   |
| ------------------------------------- | ------ | --------------------------------------------------------------------------------------------------- | ------ |
| **核心功能**                              |        |                                                                                                     |        |
| `worker_shutdown_timeout`             | 1.25.0 | 允许设置 worker 进程关闭的超时时间，超过此时间 worker 进程将被强制终止。有助于更优雅地关闭 worker 进程。                                    | Core   |
| **HTTP 模块**                           |        |                                                                                                     |        |
| `$jwt_claim_NAME` 变量                  | 1.21.0 | 允许提取和使用 JWT (JSON Web Token) 中的声明 (claims)，例如 `$jwt_claim_sub` 获取 "sub" 声明。                         | HTTP   |
| `proxy_ssl_early_data`                | 1.21.0 | 允许在使用 `proxy_pass` 时发送 TLS early data (如果后端服务器支持)，可以减少 TLS 握手延迟。                                    | HTTP   |
| `access_log` 时间格式改进                   | 1.21.0 | `access_log` 指令支持更灵活的时间格式，可以使用变量进行定义。                                                               | HTTP   |
| `$upstream_bytes_sent`                | 1.23.0 | 新增变量 `$upstream_bytes_sent`，记录发送到上游服务器的字节数。                                                         | HTTP   |
| `$upstream_bytes_received`            | 1.23.0 | 新增变量 `$upstream_bytes_received`，记录从上游服务器接收的字节数。                                                     | HTTP   |
| `http3` 指令                            | 1.23.0 | 实验性支持 HTTP/3 协议。                                                                                    | HTTP   |
| `proxy_websocket_ping`                | 1.23.0 | 允许配置 Nginx 作为 WebSocket 代理时发送 Ping 帧到后端服务器，用于保持连接活跃和检测连接状态。                                         | HTTP   |
| `ssl_client_certificate_chain`        | 1.25.0 | 新增 `ssl_client_certificate_chain` 指令，允许指定一个包含可信 CA 证书链的文件，用于验证客户端证书。                                | HTTP   |
| **Stream 模块**                         |        |                                                                                                     |        |
| `preread_buffer_size`                 | 1.21.0 | `stream` 模块新增 `preread_buffer_size` 指令，允许配置预读取缓冲区大小，用于提前读取客户端数据进行处理（例如 SNI）。                        | Stream |
| `ssl_reject_handshake`                | 1.21.0 | `stream` 模块新增 `ssl_reject_handshake` 指令，允许基于某些条件（例如 SNI）拒绝 SSL/TLS 握手。                              | Stream |
| Stream 中使用 `$ssl_preread_server_name` | 1.23.0 | `stream` 模块可以使用 `$ssl_preread_server_name` 变量，获取客户端 SSL/TLS 握手中提供的 SNI (Server Name Indication)。    | Stream |
| `ssl_preread_alpn`                    | 1.25.0 | `stream` 模块新增 `ssl_preread_alpn` 指令，允许基于客户端提供的 ALPN (Application-Layer Protocol Negotiation) 值进行路由。 | Stream |
| `$ssl_preread_alpn`                   | 1.25.0 | `stream` 模块可以使用 `$ssl_preread_alpn` 变量，获取客户端 SSL/TLS 握手中提供的 ALPN 值。                                 | Stream |
| **Mail 模块**                           |        |                                                                                                     |        |
| (请查阅具体 Mail 模块更新)                     |        | Mail 模块也有更新，请参考具体的版本日志。                                                                             | Mail   |


**总结说明:**

* **版本范围:** 此表格总结了从 Nginx **1.21.0** 到 **1.26.0** 版本之间引入的主要新功能。这是因为你的当前版本是 1.20.1，所以我们关注的是此后的更新。
* **主要功能:**  表格中列出的是相对重要的、用户可以直接感知和使用的功能变化。一些小的修复或内部改进可能未包含。
* **查阅详细日志:** 如果你需要更详细的信息，强烈建议查阅 Nginx 官方的完整变更日志，链接为 [https://nginx.org/en/CHANGES](https://nginx.org/en/CHANGES)。
* **功能测试重点:** 在升级后进行测试时，可以重点关注这些新功能是否按预期工作。例如，如果你计划使用 HTTP/3，就需要测试 `http3` 指令的相关配置和功能。如果你使用了 JWT 认证，可以测试 `$jwt_claim_NAME` 变量是否能正确提取声明。

希望这个表格能帮助你更好地了解 Nginx 新版本的功能变化，并为你的升级计划提供参考。在实际升级前，务必在测试环境中进行充分的验证。


根据您提供的链接 [Nginx 1.26 版本变更日志](https://nginx.org/en/CHANGES-1.26)，以下是 Nginx 1.20.1 和 1.26.0 版本之间主要新功能的对比：

| 功能描述                                          | Nginx 1.20.1 | Nginx 1.26.0                                                                                   |
| ------------------------------------------------- | ------------ | ---------------------------------------------------------------------------------------------- |
| **HTTP/3 支持**                                   | 不支持       | 实验性支持 HTTP/3 协议，提升性能和安全性。                                                     |
| **QUIC 协议支持**                                 | 不支持       | 引入 QUIC 协议的实验性支持，与 HTTP/3 协同工作。                                               |
| **虚拟服务器（Stream 模块）**                     | 不支持       | Stream 模块中新增虚拟服务器功能，增强 TCP/UDP 流量管理。                                       |
| **ngx_stream_pass_module 模块**                   | 不支持       | 新增 ngx_stream_pass_module 模块，改进流量转发能力。                                           |
| **listen 指令的新参数（Stream 模块）**            | 不支持       | Stream 模块的 listen 指令新增 "deferred"、"accept_filter" 和 "setfib" 参数，增强连接处理能力。 |
| **路径 MTU 发现（HTTP/3）**                       | 不适用       | 在 HTTP/3 中引入路径 MTU 发现，优化网络传输效率。                                              |
| **TLS_AES_128_CCM_SHA256 密码套件支持（HTTP/3）** | 不适用       | 在 HTTP/3 中支持 TLS_AES_128_CCM_SHA256 密码套件，增强安全性。                                 |
| **http2 指令**                                    | 不适用       | 新增 http2 指令，可在每个服务器级别启用 HTTP/2，简化配置。                                     |
| **HTTP/2 服务器推送**                             | 支持         | 移除 HTTP/2 服务器推送支持，遵循最新的协议建议。                                               |
| **ssl 指令**                                      | 支持         | 移除已弃用的 ssl 指令，鼓励使用更明确的配置方式。                                              |

请注意，Nginx 1.26.0 引入了对 HTTP/3 和 QUIC 的实验性支持，这些功能在 1.20.1 中不可用。此外，Stream 模块的增强功能也在新版本中得以实现。

在升级前，建议您详细阅读官方的变更日志和文档，以全面了解新版本的功能和可能的影响。 

